import{p as V,u as E,z as M,q as $,E as I,d as J,c as o,o as r,a as e,m as d,t as c,b as S,g as n,J as G,I as H,x as A}from"./app-BaRC1mni.js";const K={class:"bg-white shadow-md overflow-hidden group relative w-[100%] transition-transform duration-500 hover:scale-105 mt-3"},L={class:"absolute top-3 right-3 flex flex-col gap-1 pointer-events-none z-[5]"},Q={key:0,class:"bg-primary-500 text-white text-xs px-2 py-1 font-semibold uppercase"},U={key:1,class:"bg-gray-500 text-white text-xs px-2 py-1 font-semibold uppercase"},W=["src"],X={class:"p-3 text-center"},Y={class:"flex items-center justify-center gap-2 mt-2"},Z={class:"text-primary-500 font-bold text-base"},tt={key:0,class:"text-gray-400 line-through text-sm"},et={class:"mt-3 w-full"},ot={key:0,class:"flex items-center gap-3"},rt={key:1,disabled:"",class:"w-full py-2 border border-primary-300 text-primary-300 font-medium bg-white cursor-not-allowed"},it={__name:"ProductCard",props:{product:Object},setup(B){var h,m;const F=V(),a=E(),O=M(),s=$(),u=I(),t=B,N={is_buy_now:!1,product_id:(h=t.product)==null?void 0:h.id,quantity:1,size:null,color:null,unit:null},R=i=>{O.addToCart(N,i)},l=J((m=t.product)==null?void 0:m.is_favorite),p=()=>{if(s.token===null)return s.loginModal=!0;axios.post("/favorite-add-or-remove",{product_id:t.product.id},{headers:{Authorization:s.token}}).then(i=>{t.product.is_favorite=!t.product.is_favorite,l.value=i.data.data.product.is_favorite,l.value===!1?u.warning("Product removed from favorite",{position:a.langDirection==="rtl"?"bottom-right":"bottom-left"}):u.success("Product added to favorite",{position:a.langDirection==="rtl"?"bottom-right":"bottom-left"}),s.favoriteRemove=!0,s.fetchFavoriteProducts()})},T=()=>{F.push({name:"productDetails",params:{id:t.product.id}})};return(i,f)=>{var _,b,x,y,g,v,w,k,C,z,j,q,D,P;return r(),o("div",K,[e("div",L,[((_=t.product)==null?void 0:_.discount_percentage)>0?(r(),o("span",Q,c((b=t.product)==null?void 0:b.discount_percentage)+"% OFF ",1)):d("",!0),((x=t.product)==null?void 0:x.quantity)===0?(r(),o("span",U," Sold Out ")):d("",!0)]),(y=t.product)!=null&&y.is_favorite?(r(),o("button",{key:0,class:"absolute top-3 left-3 w-9 h-9 flex justify-center items-center bg-white cursor-pointer shadow z-[5]",onClick:p},[S(n(G),{class:"w-6 h-6 text-primary-500"})])):(r(),o("button",{key:1,class:"absolute top-3 left-3 w-9 h-9 flex justify-center items-center bg-white cursor-pointer transition-all duration-300 group-hover:opacity-100 shadow z-[5]",onClick:p},[S(n(H),{class:"w-6 h-6 text-slate-600"})])),e("div",{class:A(["flex items-center justify-center bg-white cursor-pointer h-48 sm:h-55 md:h-72 relative overflow-hidden w-full",((g=t.product)==null?void 0:g.quantity)>0?"":"opacity-30"]),onClick:T},[e("img",{src:(v=t.product)==null?void 0:v.thumbnail,alt:"Product",class:"object-contain w-full h-full transition-transform duration-500 group-hover:scale-110",loading:"lazy"},null,8,W)],2),e("div",X,[e("h3",{class:A(["text-gray-900 font-semibold text-base truncate",((w=t.product)==null?void 0:w.quantity)>0?"":"opacity-30"])},c((k=t.product)==null?void 0:k.name),3),e("div",Y,[e("span",Z,c(n(a).showCurrency(((C=t.product)==null?void 0:C.discount_price)>0?(z=t.product)==null?void 0:z.discount_price:(j=t.product)==null?void 0:j.price)),1),((q=t.product)==null?void 0:q.discount_price)>0?(r(),o("span",tt,c(n(a).showCurrency((D=t.product)==null?void 0:D.price)),1)):d("",!0)]),e("div",et,[((P=t.product)==null?void 0:P.quantity)>0?(r(),o("div",ot,[e("button",{class:"w-full py-2 border border-primary text-primary font-medium bg-white transition-all duration-300 shadow-[3px_3px_0px_0px_rgb(254,229,232)] group-hover:bg-primary-600 group-hover:text-white group-hover:shadow-[3px_3px_0px_0px_rgb(254,229,232)]",onClick:f[0]||(f[0]=st=>R(t.product))}," Add to Cart ")])):(r(),o("button",rt," Add to Cart "))])])])}}};export{it as _};
