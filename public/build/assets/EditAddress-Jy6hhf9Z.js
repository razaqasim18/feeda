import{_ as te,u as se,E as ae,p as le,q as Q,d as w,s as oe,c as i,o as u,a as e,b as m,a2 as de,B as n,m as f,h as b,t as o,C as h,x as _,g as p,H as A,a7 as re,V as ne,w as g,Y as ie,N as K,O as ue,R as me,F as pe,K as J,j as ce,k as ve,e as fe}from"./app-Dj5MePlR.js";import{r as he}from"./TrashIcon-B2ig5_kL.js";import{_ as _e}from"./AuthPageHeader--OWOow2r.js";import{r as be}from"./HomeIcon-D85MPhIy.js";const xe={class:"p-6 bg-white rounded-2xl border border-slate-200 mt-3"},ye={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},ge={for:"name",class:"form-label mb-2"},$e=["placeholder"],we={key:0,class:"text-red-500 text-sm"},ke={for:"Phone",class:"form-label mb-2"},Ae=["placeholder","maxlength"],Ce={key:0,class:"text-red-500 text-sm"},Ee={class:"grid grid-cols-1 sm:grid-cols-3 gap-6 mt-6"},Ve={for:"Area",class:"form-label mb-2"},Ue=["placeholder"],Pe={key:0,class:"text-red-500 text-sm"},Fe={for:"Flat",class:"form-label mb-2"},Me=["placeholder"],De={key:0,class:"text-red-500 text-sm"},je={for:"Postal",class:"form-label mb-2"},Ne=["placeholder"],Be={key:0,class:"text-red-500 text-sm"},Se={class:"grid grid-cols-1 sm:grid-cols-2 gap-6 mt-6"},ze={for:"address",class:"form-label mb-2"},Oe=["placeholder"],Re={key:0,class:"text-red-500 text-sm"},Te={for:"address2",class:"form-label mb-2"},Ie=["placeholder"],Le={key:0,class:"text-red-500 text-sm"},He={class:"mt-4"},Ye={class:"text-slate-950 text-base font-medium leading-normal"},qe={class:"flex justify-between items-center gap-2 mt-2 flex-wrap"},Ge={class:"flex items-center gap-2"},Ke={for:"home",class:"px-3 py-2 bg-white rounded-[42px] border flex gap-2 items-center text-slate-600 text-base font-normal leading-normal cursor-pointer has-[:checked]:border-primary has-[:checked]:text-primary"},Je=["checked"],Qe={class:"text-base font-normal"},We={for:"office",class:"px-3 py-2 bg-white rounded-[42px] border flex gap-2 items-center text-slate-600 text-base font-normal leading-normal cursor-pointer has-[:checked]:border-primary has-[:checked]:text-primary"},Xe=["checked"],Ze={class:"text-base font-normal"},et={for:"other",class:"px-3 py-2 bg-white rounded-[42px] border flex gap-2 items-center text-slate-600 text-base font-normal leading-normal cursor-pointer has-[:checked]:border-primary has-[:checked]:text-primary"},tt=["checked"],st={class:"text-base font-normal"},at={class:"flex items-center gap-2"},lt=["checked"],ot={for:"default",class:"text-slate-500 text-sm font-normal leading-tight m-0"},dt={class:"flex justify-between items-center gap-2 mt-6"},rt={key:0,type:"submit",class:"px-4 py-3 md:px-6 md:py-4 bg-primary text-white text-sm md:text-base rounded-[10px] w-[140px] md:w-[152px]"},nt={key:1,type:"button",class:"px-4 py-3 md:px-6 md:py-4 bg-primary-200 text-primary text-sm md:text-base rounded-[10px] flex justify-center items-center gap-1",disabled:""},it={class:"text-red-500 text-base font-medium leading-normal"},ut={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},mt={class:"flex min-h-full items-center justify-center p-4 text-center sm:p-0"},pt={class:"bg-white p-5 sm:p-8 text-center"},ct={class:"bg-red-500 w-14 h-14 md:w-20 md:h-20 rounded-full mx-auto flex justify-center items-center"},vt={class:"mt-3 text-center text-gray-900 text-2xl md:text-3xl font-bold"},ft={class:"mt-4 text-center text-slate-700 text-base md:text-xl font-normal"},ht={class:"flex justify-between items-center gap-4 mt-8"},_t={__name:"AddressEditForm",props:{address:Object},setup(C){const c=se(),x=ae(),v=le(),r=Q(),$=w(!1),y=C,l=w({name:"",phone:"",area:"",flat_no:"",post_code:"",address_line:"",address_line2:"",address_type:"home",latitude:"",longitude:"",is_default:!1});oe(()=>y.address,()=>{l.value=y.address});const s=w({}),W={component:J,props:{title:"Address Updated!",message:"Address updated successfully"}},X={component:J,props:{title:"Address Deleted!",message:"Address deleted successfully"}},Z=()=>{axios.delete(`/address/${y.address.id}/delete`,{headers:{Authorization:r.token}}).then(()=>{x(X,{type:"default",hideProgressBar:!0,icon:!1,position:c.langDirection==="rtl"?"bottom-right":"bottom-left",toastClassName:"vue-toastification-alert",timeout:2e3}),v.push({name:"manage-address"})}).catch(a=>{x.error(a.response.data.message,{position:c.langDirection==="rtl"?"bottom-right":"bottom-left"}),a.response.status===401&&(r.token=null,r.user=null,r.addresses=[],r.favoriteProducts=0,v.push("/"))})},k=w(!1),ee=()=>{k.value=!0,axios.post(`/address/${y.address.id}/update`,l.value,{headers:{Authorization:r.token}}).then(()=>{k.value=!1,l.value={},x(W,{type:"default",hideProgressBar:!0,icon:!1,position:c.langDirection==="rtl"?"bottom-right":"bottom-left",toastClassName:"vue-toastification-alert",timeout:2e3}),v.push({name:"manage-address"})}).catch(a=>{k.value=!1,s.value=a.response.data.errors,x.error(a.response.data.message,{position:c.langDirection==="rtl"?"bottom-right":"bottom-left"}),a.response.status===401&&(r.token=null,r.user=null,r.addresses=[],r.favoriteProducts=0,v.push("/"))})};return(a,t)=>{var E,V,U,P,F,M,D,j,N,B,S,z,O,R,T,I,L,H,Y,q,G;return u(),i(pe,null,[e("div",xe,[e("form",{onSubmit:t[13]||(t[13]=de(d=>ee(),["prevent"]))},[e("div",ye,[e("div",null,[e("label",ge,[b(o(a.$t("Name"))+" ",1),t[16]||(t[16]=e("small",{class:"text-red-500"},"*",-1))]),n(e("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=d=>l.value.name=d),placeholder:a.$t("Enter name"),class:_(["form-input",s.value&&((E=s.value)!=null&&E.name)?"border-red-500":"border-slate-200"])},null,10,$e),[[h,l.value.name]]),s.value&&((V=s.value)!=null&&V.name)?(u(),i("span",we,o((U=s.value)==null?void 0:U.name[0]),1)):f("",!0)]),e("div",null,[e("label",ke,[b(o(a.$t("Phone"))+" ",1),t[17]||(t[17]=e("small",{class:"text-red-500"},"*",-1))]),n(e("input",{type:"text",id:"Phone",placeholder:a.$t("Enter phone"),value:"0123456789",class:_(["form-input",s.value&&((P=s.value)!=null&&P.phone)?"border-red-500":"border-slate-200"]),"onUpdate:modelValue":t[1]||(t[1]=d=>l.value.phone=d),maxlength:p(c).phoneMaxLength,onInput:t[2]||(t[2]=d=>l.value.phone=l.value.phone.replace(/[^\d]/g,""))},null,42,Ae),[[h,l.value.phone]]),s.value&&((F=s.value)!=null&&F.phone)?(u(),i("span",Ce,o((M=s.value)==null?void 0:M.phone[0]),1)):f("",!0)])]),e("div",Ee,[e("div",null,[e("label",Ve,[b(o(a.$t("Area"))+" ",1),t[18]||(t[18]=e("small",{class:"text-red-500"},"*",-1))]),n(e("input",{type:"text",id:"Area",placeholder:a.$t("Enter Area"),class:_(["form-input",s.value&&((D=s.value)!=null&&D.area)?"border-red-500":"border-slate-200"]),"onUpdate:modelValue":t[3]||(t[3]=d=>l.value.area=d)},null,10,Ue),[[h,l.value.area]]),s.value&&((j=s.value)!=null&&j.area)?(u(),i("span",Pe,o((N=s.value)==null?void 0:N.area[0]),1)):f("",!0)]),e("div",null,[e("label",Fe,o(a.$t("Flat")),1),n(e("input",{type:"text",id:"Flat",placeholder:a.$t("Enter Flat no"),value:"",class:_(["form-input",s.value&&((B=s.value)!=null&&B.flat_no)?"border-red-500":"border-slate-200"]),"onUpdate:modelValue":t[4]||(t[4]=d=>l.value.flat_no=d)},null,10,Me),[[h,l.value.flat_no]]),s.value&&((S=s.value)!=null&&S.flat_no)?(u(),i("span",De,o((z=s.value)==null?void 0:z.flat_no[0]),1)):f("",!0)]),e("div",null,[e("label",je,[b(o(a.$t("Postal Code"))+" ",1),t[19]||(t[19]=e("small",{class:"text-red-500"},"*",-1))]),n(e("input",{type:"text",id:"Postal","onUpdate:modelValue":t[5]||(t[5]=d=>l.value.post_code=d),placeholder:a.$t("Enter Postal Code"),value:"",class:_(["form-input",s.value&&((O=s.value)!=null&&O.post_code)?"border-red-500":"border-slate-200"])},null,10,Ne),[[h,l.value.post_code]]),s.value&&((R=s.value)!=null&&R.post_code)?(u(),i("span",Be,o((T=s.value)==null?void 0:T.post_code[0]),1)):f("",!0)])]),e("div",Se,[e("div",null,[e("label",ze,[b(o(a.$t("Address Line 1"))+" ",1),t[20]||(t[20]=e("small",{class:"text-red-500"},"*",-1))]),n(e("input",{type:"text",id:"address","onUpdate:modelValue":t[6]||(t[6]=d=>l.value.address_line=d),placeholder:a.$t("Enter address 1"),class:_(["form-input",s.value&&((I=s.value)!=null&&I.address_line)?"border-red-500":"border-slate-200"])},null,10,Oe),[[h,l.value.address_line]]),s.value&&((L=s.value)!=null&&L.address_line)?(u(),i("span",Re,o((H=s.value)==null?void 0:H.address_line[0]),1)):f("",!0)]),e("div",null,[e("label",Te,o(a.$t("Address Line 2")),1),n(e("input",{type:"text",id:"address2","onUpdate:modelValue":t[7]||(t[7]=d=>l.value.address_line2=d),placeholder:a.$t("Enter address 2"),value:"",class:_(["form-input",s.value&&((Y=s.value)!=null&&Y.address_line2)?"border-red-500":"border-slate-200"])},null,10,Ie),[[h,l.value.address_line2]]),s.value&&((q=s.value)!=null&&q.address_line2)?(u(),i("span",Le,o((G=s.value)==null?void 0:G.address_line2[0]),1)):f("",!0)])]),e("div",He,[e("div",Ye,o(a.$t("Address Tag")),1),e("div",qe,[e("div",Ge,[e("label",Ke,[n(e("input",{type:"radio",id:"home","onUpdate:modelValue":t[8]||(t[8]=d=>l.value.address_type=d),name:"tag",value:"home",class:"radio-btn",checked:l.value.address_type==="home"},null,8,Je),[[A,l.value.address_type]]),e("span",Qe,o(a.$t("HOME")),1)]),e("label",We,[n(e("input",{type:"radio",id:"office","onUpdate:modelValue":t[9]||(t[9]=d=>l.value.address_type=d),name:"tag",value:"office",class:"radio-btn",checked:l.value.address_type==="office"},null,8,Xe),[[A,l.value.address_type]]),e("span",Ze,o(a.$t("OFFICE")),1)]),e("label",et,[n(e("input",{type:"radio",id:"other","onUpdate:modelValue":t[10]||(t[10]=d=>l.value.address_type=d),name:"tag",value:"other",class:"radio-btn",checked:l.value.address_type==="other"},null,8,tt),[[A,l.value.address_type]]),e("span",st,o(a.$t("OTHER")),1)])]),e("div",at,[n(e("input",{id:"default","onUpdate:modelValue":t[11]||(t[11]=d=>l.value.is_default=d),name:"default",type:"checkbox",class:"w-4 h-4",checked:l.value.is_default},null,8,lt),[[re,l.value.is_default]]),e("label",ot,o(a.$t("Make it default address")),1)])]),e("div",dt,[k.value?(u(),i("button",nt,[b(o(a.$t("Processing"))+" ",1),m(ne)])):(u(),i("button",rt,o(a.$t("Update")),1)),e("button",{type:"button",class:"bg-white rounded-lg py-2 md:py-4 px-2",onClick:t[12]||(t[12]=d=>$.value=!0)},[e("div",it,o(a.$t("Delete this")),1)])])])],32)]),m(p(me),{as:"template",show:$.value},{default:g(()=>[m(p(ie),{as:"div",class:"relative z-10",onClose:t[15]||(t[15]=d=>$.value=!1)},{default:g(()=>[m(p(K),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:g(()=>t[21]||(t[21]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])),_:1}),e("div",ut,[e("div",mt,[m(p(K),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:g(()=>[m(p(ue),{class:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:g(()=>[e("div",pt,[e("div",ct,[m(p(he),{class:"w-8 h-8 md:w-12 md:h-12 text-white"})]),e("div",vt,o(a.$t("Delete address")),1),e("div",ft,o(a.$t("Are you sure want to delete this address")),1),e("div",ht,[e("button",{class:"text-slate-800 grow text-base font-medium px-4 py-3 md:px-6 md:py-4 rounded-lg md:rounded-[10px] border border-slate-300",onClick:t[14]||(t[14]=d=>$.value=!1)},o(a.$t("Cancel")),1),e("button",{class:"text-white grow bg-red-500 text-base font-medium px-4 py-3 md:px-6 md:py-4 rounded-lg md:rounded-[10px]",onClick:Z},o(a.$t("Yes")),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64)}}},bt=te(_t,[["__scopeId","data-v-c3ba4a58"]]),xt={class:"bg-white px-3 text-slate-600 flex items-center gap-1 pt-2 leading-normal"},yt={class:"p-3 md:p-4 xl:p-6"},gt={class:"max-w-5xl mx-auto"},Ct={__name:"EditAddress",setup(C){const c=ce(),x=Q(),v=w({});return ve(()=>{v.value=x.getAddressById(c.params.id)}),(r,$)=>{const y=fe("router-link");return u(),i("div",null,[e("div",xt,[m(p(be),{class:"w-5 h-5 md:w-6 md:h-6"}),m(y,{to:"/manage-address",class:"hover:text-primary"},{default:g(()=>[b(o(r.$t("Manage Address")),1)]),_:1}),e("span",null,"/ "+o(r.$t("Edit Address")),1)]),m(_e,{title:r.$t("Edit Address")},null,8,["title"]),e("div",yt,[e("div",gt,[m(bt,{address:v.value},null,8,["address"])])])])}}};export{Ct as default};
