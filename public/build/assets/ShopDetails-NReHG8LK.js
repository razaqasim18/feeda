import{c as a,o as l,a as e,t,F as p,r as g,b as n,x as j,g as k,y as O,A as ue,q as ce,u as ve,p as me,j as pe,d as i,k as ge,e as he,f as D,S as b,B as _e,C as fe,D as xe,w as H,m as R}from"./app-Dj5MePlR.js";import{S as le,d as we}from"./swiper-SwCxSCVs.js";import{f as be}from"./free-mode-CBa37A0W.js";import{_ as ye}from"./ProductCard-YekKuuH4.js";const ke={class:"flex flex-col sm:flex-row gap-4 lg:gap-12 items-center mt-3"},$e={class:"flex flex-col gap-2.5 items-center sm:items-start"},Re={class:"text-slate-950 text-2xl font-bold"},je={class:"flex"},Pe={class:"text-slate-600 text-base font-normal leading-normal"},Ve={class:"flex items-center flex-col w-full"},Se={class:"text-slate-900 text-base font-medium"},Te={class:"h-2 bg-slate-200 rounded w-full"},Be={class:"pl-4 w-[80px] text-slate-300 text-base font-normal"},Ce={__name:"ReviewRatings",props:{reviewRatings:Object,averageRating:Number,totalReview:Number},setup(B){const r=B;return(P,V)=>{var h;return l(),a("div",ke,[e("div",$e,[e("div",Re,t((h=r.averageRating)==null?void 0:h.toFixed(1)),1),e("div",je,[(l(),a(p,null,g(5,u=>n(k(O),{key:u,class:j(["w-6 h-6",u<=r.averageRating?"text-amber-500":"text-slate-300"])},null,8,["class"])),64))]),e("div",Pe,t(r.totalReview)+" "+t(P.$t("reviews")),1)]),V[0]||(V[0]=e("div",{class:"hidden w-px h-[88px] bg-slate-200"},null,-1)),e("div",Ve,[(l(!0),a(p,null,g(r.reviewRatings,(u,c)=>(l(),a("div",{key:u.id,class:"h-6 w-full justify-start items-center gap-2 inline-flex"},[e("span",Se,t(c),1),e("div",Te,[e("div",{class:"h-full bg-amber-500 rounded",style:ue({width:u+"%"})},null,4)]),e("div",Be,t(u)+"% ",1)]))),128))])])}}},Le={class:"flex gap-4"},Fe={class:"w-12 shrink-0"},Me=["src"],Ne={class:"grow flex flex-col gap-4 border-b border-slate-100 pb-4"},ze={class:"flex justify-between items-center gap-3"},Ae={class:"flex flex-col gap-1"},De={class:"text-slate-950 text-sm font-medium leading-tight"},He={class:"flex items-center"},Oe={class:"text-gray-900 text-sm font-bold leading-tight ml-1"},Ue={class:"text-right text-slate-400 text-xs font-normal leading-none"},Ie={class:"text-slate-700 text-sm font-normal leading-tight"},qe={__name:"Review",props:{review:Object},setup(B){const r=B;return(P,V)=>{var h,u,c,_,f,x;return l(),a("div",Le,[e("div",Fe,[e("img",{src:(h=r.review)==null?void 0:h.customer_profile,class:"w-full object-cover"},null,8,Me)]),e("div",Ne,[e("div",ze,[e("div",Ae,[e("div",De,t((u=r.review)==null?void 0:u.customer_name),1),e("div",He,[(l(),a(p,null,g(5,w=>{var v;return n(k(O),{key:w,class:j(["w-5 h-5",w<=((v=r.review)==null?void 0:v.rating)?"text-amber-500":"text-slate-300"])},null,8,["class"])}),64)),e("div",Oe,t((_=(c=r.review)==null?void 0:c.rating)==null?void 0:_.toFixed(1)),1)])]),e("div",Ue,t((f=r.review)==null?void 0:f.created_at),1)]),e("div",Ie,t((x=r.review)==null?void 0:x.description),1)])])}}},Ee={class:""},Ge={class:"h-56 md:h-64 w-full"},Je=["src"],Ke={class:"main-container relative bg-primary-50 py-10 pt-24"},Qe={class:"-top-32 sm:-top-28 lg:-top-[108px] absolute left-0 right-0 main-container"},We={key:0,class:"w-full p-6 bg-white rounded-2xl shadow flex-col gap-2 sm:gap-6 flex"},Xe={class:"flex justify-between w-full gap-3 sm:gap-6 flex-wrap sm:flex-nowrap"},Ye={class:"flex grow gap-6"},Ze={class:"w-16 h-16 md:w-[88px] md:h-[88px] rounded-full overflow-hidden shrink-0"},et=["src"],tt={class:"flex flex-col items-start gap-2"},st={class:"flex justify-start items-center w-full gap-2"},lt={class:"text-slate-950 text-lg font-bold leading-normal tracking-tight"},at={class:"flex justify-start items-center gap-4"},ot={class:"text-slate-500 text-base font-normal leading-normal"},nt={class:"text-slate-500 text-sm font-normal leading-tight"},it=["innerHTML"],rt={class:"sm:border-l border-slate-200 w-full sm:w-[156px] md:w-[184px] flex flex-row-reverse sm:flex-col justify-center sm:justify-start items-center gap-2"},dt={class:"flex gap-1"},ut={class:"text-slate-800 text-base font-bold leading-normal"},ct={class:"text-slate-500 text-base font-normal leading-normal"},vt={class:"flex"},mt={class:"flex justify-between items-center w-full"},pt={class:"lg:w-[448px] relative hidden sm:block"},gt=["placeholder"],ht={class:"pt-10"},_t=["src"],ft={class:"main-container py-10 pt-24"},xt={class:"mt-12"},wt={key:0,class:"w-full"},bt={class:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3 md:gap-6 items-start"},yt={key:0,class:"text-slate-950 text-xl font-medium leading-7"},kt={key:1,class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},$t={class:"text-slate-800 text-base font-normal leading-normal"},Rt={key:1,class:"w-full"},jt={class:"grid grid-cols-1 xl:grid-cols-2 gap-8 items-start"},Pt={class:"text-slate-950 text-xl font-medium leading-7"},Vt={class:"text-slate-950 text-xl font-medium leading-7"},St={class:"mt-4"},Tt={class:"w-full flex gap-3 items-center"},Bt={class:"w-full space-y-2"},Ct={key:2,class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},Lt={class:"text-slate-800 text-base font-normal leading-normal"},Ft={key:3},Mt={class:"text-slate-700 text-xl font-medium leading-7 italic"},Ht={__name:"ShopDetails",setup(B){const r=ce(),P=ve(),V=new me,h=pe(),u=[be],c=i(!0),_=i(!0),f=i(!1),x=i(!0),w=i(!1),v=i(1),C=i(12),ae=s=>{v.value=s,A()},L=i(5),$=i(1),oe=s=>{$.value=s,I()},d=i({}),S=i([]),M=i(0),N=i({}),F=i(0),T=i([]),z=i("");let U=null;const ne=()=>{clearTimeout(U),U=setTimeout(()=>{v.value=1,x.value=!0,w.value=!1,A()},1e3)};ge(()=>{if(!P.multiVendor){V.push("/");return}re(),window.scrollTo(0,0),A()});const ie=()=>{x.value=!1,w.value=!0,I()},re=async()=>{c.value=!0,axios.get("/shops/"+h.params.id).then(s=>{d.value=s.data.data.shop,setTimeout(()=>{c.value=!1},200)}).catch(s=>{c.value=!1})},A=async()=>{_.value=!0,axios.get("/products",{params:{shop_id:h.params.id,page:v.value,per_page:C.value,search:z.value},headers:{"Accept-Language":P.locale||"en",Authorization:r.token}}).then(s=>{M.value=s.data.data.total,S.value=s.data.data.products,_.value=!1}).catch(s=>{_.value=!1})},I=async()=>{f.value=!0,axios.get("/reviews",{params:{shop_id:h.params.id,page:$.value,per_page:L.value}}).then(s=>{F.value=s.data.data.total,T.value=s.data.data.reviews,N.value=s.data.data.average_rating_percentage,f.value=!1}).catch(s=>{f.value=!1})},de={320:{slidesPerView:1,spaceBetween:10},768:{slidesPerView:2,spaceBetween:10},1024:{slidesPerView:2,spaceBetween:30},1280:{slidesPerView:3,spaceBetween:30}};return(s,m)=>{var E,G,J,K,Q,W,X,Y,Z,ee,te,se;const q=he("vue-awesome-paginate");return l(),a("div",Ee,[e("div",Ge,[c.value?(l(),D(b,{key:1,class:"w-full h-full"})):(l(),a("img",{key:0,src:(E=d.value)==null?void 0:E.banner,loading:"lazy",class:"w-full h-full object-cover"},null,8,Je))]),e("div",Ke,[e("div",Qe,[c.value?(l(),D(b,{key:1,class:"w-full h-48 p-6 rounded-2xl"})):(l(),a("div",We,[e("div",Xe,[e("div",Ye,[e("div",Ze,[e("img",{src:(G=d.value)==null?void 0:G.logo,loading:"lazy",class:"w-full h-full object-cover"},null,8,et)]),e("div",tt,[e("div",st,[e("div",lt,t((J=d.value)==null?void 0:J.name),1),e("div",{class:j(["px-1 py-0.5 rounded-[10px] text-white text-xs font-normal leading-none",((K=d.value)==null?void 0:K.shop_status)==="Online"?"bg-lime-600":"bg-slate-500"])},t((Q=d.value)==null?void 0:Q.shop_status),3)]),e("div",at,[e("div",ot,t((W=d.value)==null?void 0:W.total_products)+"+ "+t(s.$t("Items")),1)]),e("div",nt,[e("div",{innerHTML:(X=d.value)==null?void 0:X.description},null,8,it)])])]),e("div",rt,[e("div",dt,[e("div",ut,t((Z=(Y=d.value)==null?void 0:Y.rating)==null?void 0:Z.toFixed(1)),1),e("div",ct," ("+t((ee=d.value)==null?void 0:ee.total_reviews)+") ",1)]),e("div",vt,[(l(),a(p,null,g(5,o=>{var y;return n(k(O),{key:o,class:j(["w-4 h-4",o<=((y=d.value)==null?void 0:y.rating)?"text-amber-500":"text-gray-300"])},null,8,["class"])}),64))])])]),e("div",mt,[e("div",null,[e("button",{class:j(["px-4 py-3 rounded-[10px] text-base font-normal leading-normal",x.value?"text-white bg-primary":"text-slate-600"]),onClick:m[0]||(m[0]=o=>{x.value=!0,w.value=!1})},t(s.$t("All Products")),3),e("button",{class:j(["px-4 py-3 rounded-[10px] text-base font-normal leading-normal",w.value?"text-white bg-primary":"text-slate-600"]),onClick:ie},t(s.$t("Reviews")),3)]),e("div",pt,[_e(e("input",{type:"text",placeholder:s.$t("Search product"),class:"p-3 pr-10 bg-slate-100 rounded-lg border border-slate-200 w-full outline-none focus:border-primary transition duration-300","onUpdate:modelValue":m[1]||(m[1]=o=>z.value=o),onInput:m[2]||(m[2]=o=>ne())},null,40,gt),[[fe,z.value]]),n(k(xe),{class:"w-6 h-6 absolute top-1/2 right-3 -translate-y-1/2 text-slate-400"})])])]))]),e("div",ht,[n(k(we),{breakpoints:de,spaceBetween:30,freeMode:!0,modules:u},{default:H(()=>{var o;return[c.value?(l(),a(p,{key:1},g(3,y=>n(k(le),{key:y},{default:H(()=>[n(b,{class:"w-full h-32 rounded-xl"})]),_:2},1024)),64)):(l(!0),a(p,{key:0},g((o=d.value)==null?void 0:o.banners,y=>(l(),D(k(le),{key:y.id},{default:H(()=>[e("img",{src:y.thumbnail,alt:"banner",loading:"lazy",class:"aspect-[6/2] rounded-xl object-cover"},null,8,_t)]),_:2},1024))),128))]}),_:1})])]),e("div",ft,[e("div",xt,[x.value?(l(),a("div",wt,[e("div",bt,[_.value?(l(),a(p,{key:1},g(12,o=>e("div",{key:o,class:"w-full"},[n(b,{class:"w-full h-[220px] sm:h-[330px] rounded-lg"})])),64)):(l(!0),a(p,{key:0},g(S.value,o=>(l(),a("div",{key:o.id,class:"w-full"},[n(ye,{product:o},null,8,["product"])]))),128))]),S.value.length==0&&!_.value?(l(),a("div",yt,t(s.$t("No Products Found")),1)):R("",!0),S.value.length>0&&!_.value?(l(),a("div",kt,[e("div",$t,t(s.$t("Showing"))+" "+t(C.value*(v.value-1)+1)+" "+t(s.$t("to"))+" "+t(C.value*(v.value-1)+S.value.length)+" "+t(s.$t("of"))+" "+t(M.value)+" "+t(s.$t("results")),1),e("div",null,[n(q,{"total-items":M.value,"items-per-page":C.value,type:"button","max-pages-shown":5,modelValue:v.value,"onUpdate:modelValue":m[3]||(m[3]=o=>v.value=o),"hide-prev-next-when-ends":!0,onClick:ae},null,8,["total-items","items-per-page","modelValue"])])])):R("",!0)])):R("",!0),w.value?(l(),a("div",Rt,[e("div",jt,[e("div",null,[e("div",Pt,t(s.$t("Rating and Review")),1),n(Ce,{reviewRatings:(te=N.value)==null?void 0:te.percentages,averageRating:(se=N.value)==null?void 0:se.rating,totalReview:F.value},null,8,["reviewRatings","averageRating","totalReview"])]),e("div",null,[e("div",Vt,t(s.$t("Reviews")),1),e("div",St,[f.value?(l(),a(p,{key:1},g(6,o=>e("div",{key:o,class:"mb-4"},[e("div",Tt,[n(b,{class:"w-16 h-16 rounded-full shrink-0"}),e("div",Bt,[n(b,{class:"w-full h-2.5 rounded-lg"}),n(b,{class:"w-11/12 h-2.5 rounded-lg"}),n(b,{class:"w-10/12 h-2.5 rounded-lg"})])])])),64)):(l(!0),a(p,{key:0},g(T.value,o=>(l(),a("div",{key:o.id,class:"mb-4"},[n(qe,{review:o},null,8,["review"])]))),128)),!f.value&&T.value.length>0?(l(),a("div",Ct,[e("div",Lt,t(s.$t("Showing"))+" "+t(L.value*($.value-1)+1)+" "+t(s.$t("to"))+" "+t(L.value*($.value-1)+T.value.length)+" "+t(s.$t("of"))+" "+t(F.value)+" "+t(s.$t("results")),1),e("div",null,[n(q,{"total-items":F.value,"items-per-page":L.value,type:"button","max-pages-shown":3,modelValue:$.value,"onUpdate:modelValue":m[4]||(m[4]=o=>$.value=o),"hide-prev-next-when-ends":!0,onClick:oe},null,8,["total-items","items-per-page","modelValue"])])])):R("",!0),T.value.length==0&&!f.value?(l(),a("div",Ft,[e("div",Mt,t(s.$t("No Reviews Found")),1)])):R("",!0)])])])])):R("",!0)])])])}}};export{Ht as default};
